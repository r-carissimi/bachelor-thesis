% Tesi Informatica, basato sul modello di:
% Tesi D.S.I., basato sul modello di:
% Stanford University PhD thesis style, basato sul modello:
% Report style

%\oddsidemargin 0.5in \evensidemargin 0in %commented before
\marginparwidth 40pt \marginparsep 10pt
\topmargin 0pt \headsep .5in
\textheight 8.1in \textwidth 6in

% Disallow page breaks at hyphens (this will give some underfull vbox's,
% so an alternative is to use \brokenpenalty=100 and manually search
% for and fix such page breaks)
\brokenpenalty=10000

% Baseline-to-baseline skip
\renewcommand{\baselinestretch}{1.5}		% ERA 1.3

% Figures and tables are to be numbered sequentially throughout the
% thesis, rather than within chapters; for style consistency, do
% equations the same.  The following \def of \cl@chapter is a kludge:
% really there should be a \removefromreset, to stop figure numbers, etc.,
% from being reset at chapter beginnings
\def\cl@chapter{\@elt{section}\@elt{footnote}}
\def\thefigure{\@arabic\c@figure}
\def\thetable{\@arabic\c@table}
\def\theequation{\arabic{equation}}

%\newif\iffigurespage \newif\iftablespage
%\figurespagefalse
%\tablespagefalse



% GENERAZIONE DEL FRONTESPIZIO
\def\frontespizio{
	\pagenumbering{gobble}
	\begin{center}
		{\sc\LARGE{Università degli studi di Milano}}\\
		\Large{Facoltà di Scienze e Tecnologie}\\
		{\em \dept}
		\vskip 0.4 cm
		%\uppercase{Dipartimento di Informatica\\Giovanni Degli Antoni}\\
		\vskip 0.6 cm
		\centerline{\includegraphics[height=45mm]{images/logo.png}}
		\vskip 0.5 cm
		%\Large\uppercase{\myCDL}
	\end{center}
	
	\vfill
	\vskip .5 cm
	\begin{center}
	    %{\Large\uppercase{Tesi di Laurea}}\\
	    %\vskip 0.4 cm
		{\Huge \myTitle\par}
	\end{center}
	
	\vfill
	\vskip 1.5 cm
	\vfill

    \begin{tabular}[t]{@{}l} 
        \textbf {Relatore}: \myRefereeA\\
        %\textit{Co-Advisor}: \myRefereeB
    \end{tabular}
    \hfill% move it to the right
    \begin{tabular}[t]{l@{}}
    	{\large{Tesi di:}}\\[0cm]
    	{\large \textbf \myName}\\
    	{\large Matricola: \textbf \myMat}\\
    \end{tabular}
    %\begin{description}
    %    \item{Advisor}: \myRefereeA
    %    \item{Co-Advisor}: \myRefereeB
    %\end{description}
	%\vskip 0.4 cm
	
	%\begin{tabular}{l}
	%	\hspace{9cm}{\large\textbf{Master thesis}}\\[.30cm]
	%	\hspace{9cm}{\large Name: \textbf \myName}\\
	%	\hspace{9cm}{\large ID: \textbf \myMat}\\
	%\end{tabular}
	
	\vfill
	\vskip .9 cm
	
	\begin{center}
		%inserire l'anno accademico
		\sc Anno Accademico \myYY
	\end{center}\vskip.5in
	\newpage
}

\def\beforepreface{
	\pagenumbering{roman}
	\pagestyle{plain}}


\def\prefacesection#1{
	\chapter*{#1}
	\addcontentsline{toc}{chapter}{#1}}


\def\afterpreface{\newpage
	% \addcontentsline{toc}{chapter}{Fontespizio}
	\tableofcontents
	\newpage
	%\iftablespage
	%	{\addvspace{10pt}
	%	\let\saveaddvspace=\addvspace
	%	\def\addvspace##1{}
	%	\addcontentsline{toc}{chapter}{Elenco delle tabelle}
	%	\listoftables
	%	\let\addvspace=\saveaddvspace}
	%	\newpage
	%\fi
	%\iffigurespage
		{\addvspace{10pt}
		\let\saveaddvspace=\addvspace
		\def\addvspace##1{}
		\addcontentsline{toc}{chapter}{Indice}
		\listoffigures
            \listoftables
		\let\addvspace=\saveaddvspace}
		\newpage
	%\fi
	\pagenumbering{arabic}
	\pagestyle{headings}}

\pagestyle{headings}

\usepackage{titlesec}
\usepackage{xcolor}

\definecolor{Nero}{rgb}{.0,.0,.0}
% \newfontfamily{\coral}{TeX Gyre Chorus} 

\titleformat{\chapter}[frame] 
{\LARGE\bfseries\rmfamily\color{Nero}}{\filright\chaptertitlename\ \thechapter}{20pt}{\Huge} 


%\titleformat*{\section}{\Large\rmfamily\color{Nero}}
\titleformat*{\section}{\Large\bfseries\rmfamily\color{Nero}}
\titleformat*{\subsection}{\large\bfseries\rmfamily\color{Nero}}

\newenvironment{dedication}
  {\clearpage           % we want a new page
   \thispagestyle{empty}% no header and footer
   \vspace*{\stretch{1}}% some space at the top
   \itshape             % the text is in italics
   \raggedleft          % flush to the right margin
  }
  {\par % end the paragraph
   \vspace{\stretch{3}} % space at bottom is three times that at the top
   \clearpage           % finish off the page
  }